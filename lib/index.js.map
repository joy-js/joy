{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":"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","sourcesContent":["import { AssetSource, GameObject, World, enableDebug, preload } from 'kiwiengine';\nimport { JoyObject, JoyObjectOptions } from './joy';\n\nconst world = new World({ backgroundColor: 0x000000 });\nworld.container.style.width = '100%';\nworld.container.style.height = '100%';\n\nfunction $(opts?: JoyObjectOptions) {\n  const go = new JoyObject(opts);\n  world.add(go);\n  return go;\n}\n\n$.enableDebug = enableDebug;\n$.preload = async (assets: AssetSource[], percentCallback: (percent: number) => void) => {\n  await preload(assets, (progress) => {\n    percentCallback(progress * 100);\n  });\n};\n\n$.on = (eventName: 'collisionStart' | 'update', listener: (go1: GameObject, go2: GameObject) => void) => {\n  world?.on(eventName, listener);\n};\n\n$.gameWidth = window.innerWidth;\n$.gameHeight = window.innerHeight;\n\nwindow.addEventListener('resize', () => {\n  $.gameWidth = window.innerWidth;\n  $.gameHeight = window.innerHeight;\n});\n\nObject.defineProperty($, 'gravity', {\n  get() { return world.gravity; },\n  set(value: number) { world.gravity = value; },\n});\n\nObject.defineProperty($, 'cameraX', {\n  get() { return world.cameraX; },\n  set(value: number) { world.cameraX = value; },\n});\n\nObject.defineProperty($, 'cameraY', {\n  get() { return world.cameraY; },\n  set(value: number) { world.cameraY = value; },\n});\n\n(window as any).$ = $;\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  document.documentElement.style.width = '100%';\n  document.documentElement.style.height = '100%';\n  document.documentElement.style.margin = '0';\n  document.documentElement.style.padding = '0';\n\n  document.body.style.width = '100%';\n  document.body.style.height = '100%';\n  document.body.style.margin = '0';\n  document.body.style.padding = '0';\n  document.body.style.backgroundColor = 'black';\n  document.body.style.color = 'white';\n  document.body.style.overflow = 'hidden';\n\n  document.body.appendChild(world.container);\n});\n"]}